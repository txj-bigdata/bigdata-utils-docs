import{p as r,c as E,o as d,ag as k,j as a,e as F,t as h,a as v}from"./chunks/framework.kYYqsdFg.js";function e(g,t){return g.then(i=>[null,i]).catch(i=>t?[Object.assign({},i,t),void 0]:[i,void 0])}const A={style:{border:"1px solid #ccc",padding:"15px",margin:"10px 0"}},D=["disabled"],m={key:0,style:{"margin-top":"10px",background:"#d4edda",padding:"10px","border-radius":"4px"}},x={key:1,style:{"margin-top":"10px",background:"#f8d7da",padding:"10px","border-radius":"4px"}},f={style:{border:"1px solid #ccc",padding:"15px",margin:"10px 0"}},q=["disabled"],_={style:{border:"1px solid #ccc",padding:"15px",margin:"10px 0"}},w={style:{"margin-bottom":"10px"}},P=["disabled"],T=["disabled"],S={style:{border:"1px solid #ccc",padding:"15px",margin:"10px 0"}},I=["disabled"],U=JSON.parse('{"title":"await-to | BigDataUtils","description":"无需try-catch即可轻松处理错误的async/await包装器","frontmatter":{"title":"await-to | BigDataUtils","description":"无需try-catch即可轻松处理错误的async/await包装器"},"headers":[],"relativePath":"utils/await-to.md","filePath":"utils/await-to.md"}'),j={name:"utils/await-to.md"},V=Object.assign(j,{setup(g){const t=r(""),i=r(!1),l=r(""),c=()=>new Promise(n=>{setTimeout(()=>{n({data:"Hello World!",timestamp:Date.now()})},1e3)}),o=()=>new Promise((n,s)=>{setTimeout(()=>{s(new Error("网络请求失败"))},1e3)}),u=n=>new Promise((s,p)=>{setTimeout(()=>{n==="valid"?s({id:1,name:"张三",email:"zhangsan@example.com"}):p(new Error("用户不存在"))},1500)}),C=async()=>{i.value=!0,t.value="",l.value="";const[n,s]=await e(c());i.value=!1,n?l.value=n.message:t.value=JSON.stringify(s,null,2)},b=async()=>{i.value=!0,t.value="",l.value="";const[n,s]=await e(o());i.value=!1,n?l.value=n.message:t.value=JSON.stringify(s,null,2)},y=async n=>{i.value=!0,t.value="",l.value="";const[s,p]=await e(u(n));i.value=!1,s?l.value=s.message:t.value=JSON.stringify(p,null,2)},B=async()=>{i.value=!0,t.value="",l.value="";const[n,s]=await e(o(),{context:"用户操作",timestamp:new Date().toISOString(),userId:"user123"});i.value=!1,n?l.value=JSON.stringify(n,null,2):t.value=JSON.stringify(s,null,2)};return(n,s)=>(d(),E("div",null,[s[8]||(s[8]=k("",19)),a("div",A,[s[4]||(s[4]=a("p",null,[a("strong",null,"成功案例演示：")],-1)),a("button",{onClick:C,disabled:i.value,style:{padding:"8px 16px",background:"#28a745",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}},h(i.value?"加载中...":"执行成功操作"),9,D),t.value?(d(),E("div",m,[s[2]||(s[2]=a("strong",null,"成功结果：",-1)),a("pre",null,h(t.value),1)])):F("",!0),l.value?(d(),E("div",x,[s[3]||(s[3]=a("strong",null,"错误信息：",-1)),v(h(l.value),1)])):F("",!0)]),s[9]||(s[9]=k("",3)),a("div",f,[s[5]||(s[5]=a("p",null,[a("strong",null,"错误案例演示：")],-1)),a("button",{onClick:b,disabled:i.value,style:{padding:"8px 16px",background:"#dc3545",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}},h(i.value?"加载中...":"执行失败操作"),9,q)]),s[10]||(s[10]=k("",4)),a("div",_,[s[6]||(s[6]=a("p",null,[a("strong",null,"用户数据获取：")],-1)),a("div",w,[a("button",{onClick:s[0]||(s[0]=p=>y("valid")),disabled:i.value,style:{padding:"8px 16px",background:"#007bff",color:"white",border:"none","border-radius":"4px",cursor:"pointer","margin-right":"10px"}},h(i.value?"加载中...":"获取有效用户"),9,P),a("button",{onClick:s[1]||(s[1]=p=>y("invalid")),disabled:i.value,style:{padding:"8px 16px",background:"#6c757d",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}},h(i.value?"加载中...":"获取无效用户"),9,T)])]),s[11]||(s[11]=k("",3)),a("div",S,[s[7]||(s[7]=a("p",null,[a("strong",null,"错误扩展信息演示：")],-1)),a("button",{onClick:B,disabled:i.value,style:{padding:"8px 16px",background:"#17a2b8",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}},h(i.value?"加载中...":"执行带扩展信息的操作"),9,I)]),s[12]||(s[12]=k("",22))]))}});export{U as __pageData,V as default};
